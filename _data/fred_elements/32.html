id: 32
name: 'Table (Dynamic)'
uuid: c43e0a05-cb73-493a-b0ea-93ecf4a27b50
description: 'Table generated by setting a datasource(json) file.'
image: '{{theme_dir}}thumb-table-dynamic.gif'
category: 9
rank: 9
options_override: '{"settings":[{"name":"columns","label":"Column Names<br>(Each name in its own line)","type":"textarea","value":"Column Head"},{"name":"local_ds","label":"Upload your data ( JSON\/CSV )<div class=''fred--helpcontent''><a id=''samplePie'' href=''javascript:\/\/'' data-source=''[[++fred.theme_dir]]sample_data\/sample_datatable_ajax.json'' data-title=''Sample Data Tables'' onClick=''updateModalFredHelp(this);''>View sample data source<\/a><\/div>","type":"file","value":"[[++fred.theme_dir]]sample_data\/sample_datatable_ajax.json","mediaSource":"Data Sources"},{"name":"remote_ds","label":"URL path (API)<a href=''javascript:\/\/'' class=''fred--tooltip''><div class=''fred--tooltiptext p-3''>Cras efficitur egestas parturient ullamcorper vehicula malesuada at dignissim rutrum facilisis bibendum. Lectus parturient proin ad tempus taciti arcu felis ultricies.<\/div><\/a>","type":"text","value":""},{"name":"use_local","label":"Use Local Data Source","type":"toggle","value":true},{"fred-import":"background_settings"},{"name":"bordered","label":"Bordered","type":"toggle","value":true},{"name":"striped","label":"Striped Rows","type":"toggle","value":true}]}'

-----

{% set uId = random() %}
<div class="table-responsive">
    {%if local_ds == 'assets/themes/zimagi_data_visualizer/sample_data/sample_datatable_ajax.json'%}
     <div data-fred-render="false" class="alert alert-info alert-dismissible mt-2" role="alert">
        <div class="alert-message">
          <p>Hover over this building block element and click the <strong class="fred-icon-gear"><span class="sr-only">Gears</span></strong> icon, then go to <strong>Open Settings</strong>.</p><p><ol><li>Change the default sample datasource file.</li><li>Set <strong>all</strong> your column names based on the amount of columns your datasource keys.</li></ol></p><p class="text-danger">This message box or the reference column names based on your datasource will not show in site.</p>
        </div>
    </div>
    {%endif%}
    {%if local_ds != 'assets/themes/zimagi_data_visualizer/sample_data/sample_datatable_ajax.json' and cols|length == 0%}
    <div data-fred-render="false" class="alert alert-warning alert-dismissible mt-2" role="alert">
        <div class="alert-icon rounded-left">
              <i class="align-middle mr-2 fas fa-fw fa-exclamation-triangle text-warning"></i>
              </div>
        <div class="alert-message">
          <p>- Remember to add all your column names.</p>
          <p>- After modifying the settings, hit the <strong>Apply</strong> button in order to see your changes.</p>
        </div>
    </div>
    {%endif%}
    <table id="table-{{uId}}" class="table mb-0{%if striped%} table-striped{%endif%}{%if bordered%} table-bordered{%endif%}">
    
      <thead>
        
        <tr>
          {% set cols = columns|split('\n')%}
          
          {%for i in 1..cols|length %}
             <th scope="col">{{cols[i-1]|trim}}</th>
          {%endfor%}
        </tr>
       
      </thead>
      
      <tbody>
       
      </tbody>
      
    </table>
    
   
    
</div>
{%if local_ds != '' or remote_ds != ''%}
 <script>
    var cols = `{{cols}}`;
    buildDataTable('table-{{uId}}', '{%if use_local%}{{local_ds}}{%else%}{{remote_ds}}{%endif%}', cols);
    
 </script> 
{%endif%}